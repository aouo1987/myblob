[TOC]

---

### _历史服务器_

#### _历史服务器的配置_

```xml
配置文件mapred-site.xml 

	<property>
		<name>mapreduce.jobhistory.address</name>
   	 	<value>master.ssgao:10020</value>
        <description>数据通信的地址</description>
	</property>
	<property>
        <name>mapreduce.jobhistory.webapp.address</name>
        <value>master.ssgao:19888</value>
        <description>web页面的地址</description>
	</property>

启动历史服务器的命令
mr-jobhistory-daemon.sh start historyserver

```



#### _配置日志聚集_

```xml
配置yarn-site.xml
	<property>
		<name>yarn.log-aggregation-enable</name>
        <value>true</value>
        <description>日志聚集功能打开</description>
	</property>
	<property>
		<name>yarn.log-aggration.retain-seconds</name>
        <value>604800</value>
        <description>日志保留时间设置为7天</description>
	</property>
```



### _编译hadoop_

```shell


[root@slavea apache-ant-1.9.9]# yum install -y  glibc-headers
[root@slavea apache-ant-1.9.9]# yum install -y  gcc-c++
[root@slavea apache-ant-1.9.9]# yum install -y  make cmake


protobuf的编译安装
[root@slavea protobuf-3.0.0]# ./configure
[root@slavea protobuf-3.0.0]# make
[root@slavea protobuf-3.0.0]# make check
[root@slavea protobuf-3.0.0]# make install
[root@slavea protobuf-3.0.0]# ldconfig
[root@slavea protobuf-3.0.0]# vim /etc/profile
	export LD_LIBRARY_PATH=/root/package/protobuf-3.0.0
	export PATH=PATH:$LD_LIBRARY_PATH
[root@slavea protobuf-3.0.0]# protoc --version
	libprotoc 3.0.0

解压hadoop源码,执行mvn 命令
	[root@slavea hadoop-2.7.7-src]# mvn package -Pdist.native -DskipTests -Dtar
```









































